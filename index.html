<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>TODO List</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Acme&display=swap" rel="stylesheet">

  </head>
  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
    <nav class="navbar navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand">TODO List</a>
        <form class="d-flex">
          <input
            class="form-control me-2"
            type="search"
            placeholder="Search"
            aria-label="Search"
          />
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </nav>
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="https://source.unsplash.com/800x200/?todo,planner" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Smart Planner</h5>
              <p>Makes is easy to stay on task all day long.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://source.unsplash.com/800x200/?manage task, technology" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Manage your List</h5>
              <p> You can access your task list and stay organized.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://source.unsplash.com/800x200/?easy, quick access" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Easy Steps</h5>
              <p>Easy to use and quick access.</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    <div class="container " my-4>
        <h1 class="text-center" style=" font-family: 'Acme', sans-serif;">TODOs List</h1>
        <div class="form-group">
            <label for="title"style="font-family: 'Oswald', sans-serif; font-size:25px">Title</label>
            <input type="text" class="form-control" id="title" aria-describedby="emailHelp">
            <small id="emailHelp" class="form-text text-muted">Add an item to the list</small>
        </div>

        <div class="form-group">
            <label for="description"style="font-family: 'Oswald', sans-serif; font-size:25px">Description</label>
            <textarea class="form-control" id="description" rows="3"></textarea>
        </div>
        
        <br>
        <button   id="add" class="btn btn-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
          </svg> Add to list</button>
        <button  id="clear" class="btn btn-primary" onclick="clearStorage()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg> Clear list</button>

        </div>
        <div id="items" class="my-4">
            <h2  style=" font-family: 'Acme', sans-serif;">Your Items</h2>
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">SNo</th>
                    <th scope="col">Item Title</th>
                    <th scope="col">Item Description</th> 
                    <th scope="col">Actions</th> 
                  </tr>
                </thead>
                <tbody id="tableBody">
                  <tr>
                    <th scope="row">1</th>
                    <td>Get some Coffee</td>
                    <td>You need coffee as you are a coder</td> 
                    <td><button class="btn btn-sm btn-primary">Delete</button></td> 
                  </tr>
                  
                </tbody>
              </table>
        </div>
    </div>
</div>
<br>
<br>

<footer class="container">
    <p class="float-end"><a href="#">Back to top</a></p>
    <p> © Sanskrati Arya <a href="#">Privacy</a> · <a href="#">Terms</a></p>
</footer>
    <script>
 var input = document.getElementById("description");
    input.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
   event.preventDefault();
   getinitialise();
  }
});
    function getinitialise(){
        tit = document.getElementById('title').value;
        desc= document.getElementById('description').value;
        if(tit!=""){
            if(localStorage.getItem('itemsJson')==null){
                itemJsonArray = [];
            itemJsonArray.push([tit,desc]);
            localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
            }

            else{
                itemJsonArrayStr = localStorage.getItem('itemsJson');
            itemJsonArray = JSON.parse(itemJsonArrayStr);
            itemJsonArray.push([tit,desc]);
            localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
            }
            document.getElementById('title').value ="";
        document.getElementById('description').value ="";
        initialise();
        
        }
        else{
            alert("Please Enter The Title!");
        }

    }
    function initialise(){
        if (localStorage.getItem('itemsJson')==null){
            itemJsonArray = [];
            localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
        }

        else{
            itemJsonArrayStr = localStorage.getItem('itemsJson');
            itemJsonArray = JSON.parse(itemJsonArrayStr);
            
        }
        let tableBody = document.getElementById("tableBody");
        let str = "";
        itemJsonArray.forEach((element,index) => {
            str += `
            <tr>
            <th scope="row">${index + 1}</th>
            <td>${element[0]}</td>
            <td>${element[1]}</td> 
            <td><button class="btn btn-sm btn-warning" onclick = "willDelete(${index})"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
  <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
</svg> Delete</button></td> 
            </tr>`;
        });
        tableBody.innerHTML = str; 
    }
    add = document.getElementById("add");
    add.addEventListener("click",getinitialise);
    initialise();

    function willDelete(itemIndex){
        console.log("Delete", itemIndex);
        itemJsonArrayStr = localStorage.getItem('itemsJson');
        itemJsonArray = JSON.parse(itemJsonArrayStr);
        // Deleting the Element
        itemJsonArray.splice(itemIndex, 1);
        localStorage.setItem("itemsJson", JSON.stringify(itemJsonArray));
        initialise();
    } 

    function clearStorage(){
        if(confirm("Do you really want to clear all?")){
            localStorage.clear();
            initialise();
        }

    }

    </script>

  </body>
</html>
